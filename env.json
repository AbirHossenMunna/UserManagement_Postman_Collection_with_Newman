{
  "info": {
    "_postman_id": "8c18a370-74d8-44d7-897b-29e5c9229940",
    "name": "User management API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "18669425"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "User login with valid creds",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData= pm.response.json();\r",
                  "pm.collectionVariables.set(\"token\",jsonData.token)\r",
                  "\r",
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check if user logged in successfully\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Login successful\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"email\": \"admin@dmoney.com\",\r\n  \"password\": \"1234\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/login",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "User login with invalid user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"If user inputs wrong email, will see validation error\", function () {\r",
                  "    var jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData.message).contains(\"User not found\");\r",
                  "});\r",
                  "pm.test(\"Status code is 404\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"email\": \"admin\",\r\n  \"password\": \"1234\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/login",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "User login with invalid password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"If user inputs wrong password, will see validation error\", function () {\r",
                  "    var jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData.message).contains(\"Password incorrect\");\r",
                  "});\r",
                  "pm.test(\"Status code is 401\", function () {\r",
                  "    pm.response.to.have.status(401);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"email\": \"admin@dmoney.com\",\r\n  \"password\": \"123489\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/login",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "login"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User List",
      "item": [
        {
          "name": "Get All user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check User List\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User list\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{baseURL}}/user/list",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "list"
              ]
            }
          },
          "response": []
        },
        {
          "name": "User list used by pagination & sorting",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check User List\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User list\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/list?page=1&count=10&order=asc",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "list"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "count",
                  "value": "10"
                },
                {
                  "key": "order",
                  "value": "asc"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get User List if user inputs wrong token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 403\", function () {\r",
                  "    pm.response.to.have.status(403);\r",
                  "});\r",
                  "pm.test(\"User input wrong token\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Token expired!\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "123456",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/list",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "list"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get User List if user does not input token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 40\", function () {\r",
                  "    pm.response.to.have.status(401);\r",
                  "});\r",
                  "pm.test(\"Check without token user can access or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"No Token Found!\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseURL}}/user/list",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "list"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Search",
      "item": [
        {
          "name": "Search User by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check user found or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/id/28610",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "id",
                "28610"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search user by phone number",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check user found or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/phonenumber/01502949439",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "phonenumber",
                "01502949439"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search user by email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check user found or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/email/system@dmoney.com",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "email",
                "system@dmoney.com"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search user by role",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/Customer",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "Customer"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search user by Invalid data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});\r",
                  "pm.test(\"Check user found or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User not found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/id/0",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "id",
                "0"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search by without auth key",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {\r",
                  "    pm.response.to.have.status(401);\r",
                  "});\r",
                  "pm.test(\"Verify message\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Secret auth key validation failure!\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/id=28610",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "id=28610"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Create User",
      "item": [
        {
          "name": "Create a new user",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const lodash=require ('lodash')\r",
                  "const randomPhone=lodash.random(1000000,9999999)\r",
                  "const prefix=\"0183\"\r",
                  "const phoneNumber=prefix+randomPhone;\r",
                  "console.log(phoneNumber)\r",
                  "\r",
                  "pm.collectionVariables.set(\"customerPhoneNumber\", phoneNumber)"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const jsonRespnose = pm.response.json();\r",
                  "const userId= jsonRespnose.user.id;\r",
                  "pm.collectionVariables.set(\"userId\", userId);\r",
                  "\r",
                  "const userEmail= jsonRespnose.user.email;\r",
                  "pm.collectionVariables.set(\"userEmail\", userEmail);\r",
                  "\r",
                  "const userName= jsonRespnose.user.name;\r",
                  "pm.collectionVariables.set(\"userName\", userName);\r",
                  "\r",
                  "pm.test(\"Status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "pm.test(\"Check if user is created\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User created\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\",\r\n  \"email\": \"{{$randomEmail}}\",\r\n  \"password\": \"12345678\",\r\n  \"phone_number\": \"{{customerPhoneNumber}}\",\r\n  \"nid\": \"123456987\",\r\n  \"role\": \"Customer\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/create",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "create"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create user with existing email and phoneNumber",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 208\", function () {\r",
                  "    pm.response.to.have.status(208);\r",
                  "});\r",
                  "pm.test(\"Check user already exists or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User already exists\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\",\r\n  \"email\": \"Adell40@gmail.com\",\r\n  \"password\": \"12345678\",\r\n  \"phone_number\": \"01502839650\",\r\n  \"nid\": \"123456987\",\r\n  \"role\": \"Customer\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/create",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "create"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create user without key",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {\r",
                  "    pm.response.to.have.status(401);\r",
                  "});\r",
                  "pm.test(\"Verify message\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Secret auth key validation failure!\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/create",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "create"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create user but invalid role",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const lodash=require ('lodash')\r",
                  "const randomPhone=lodash.random(1000000,9999999)\r",
                  "const prefix=\"0183\"\r",
                  "const phoneNumber=prefix+randomPhone;\r",
                  "console.log(phoneNumber)\r",
                  "\r",
                  "pm.collectionVariables.set(\"customerPhoneNumber\", phoneNumber)"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {\r",
                  "    pm.response.to.have.status(400);\r",
                  "});\r",
                  "pm.test(\"Check invalid role\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Invalid role: SQA. This role does not exist in the Role table.\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\",\r\n  \"email\": \"{{$randomEmail}}\",\r\n  \"password\": \"12345678\",\r\n  \"phone_number\": \"{{customerPhoneNumber}}\",\r\n  \"nid\": \"123456987\",\r\n  \"role\": \"SQA\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/create",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "create"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create new user using wrong token",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 403\", function () {\r",
                  "    pm.response.to.have.status(403);\r",
                  "});\r",
                  "pm.test(\"Check if user is created using wrong token\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Token invalid!\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "12345",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\",\r\n  \"email\": \"{{$randomEmail}}\",\r\n  \"password\": \"12345678\",\r\n  \"phone_number\": \"{{customerPhoneNumber}}\",\r\n  \"nid\": \"123456987\",\r\n  \"role\": \"Customer\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/create",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "create"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Update User",
      "item": [
        {
          "name": "Update user by ID(Full Update)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check user updated or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User updated\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\",\r\n  \"email\": \"{{$randomEmail}}\",\r\n  \"password\": \"87654321\",\r\n  \"phone_number\": \"{{customerPhoneNumber}}\",\r\n  \"nid\": \"123456987\",\r\n  \"role\": \"Customer\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/update/{{userId}}",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "update",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Partially updates user by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check user updated or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User updated successfully\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/update/{{userId}}",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "update",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update user with non-existing ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});\r",
                  "pm.test(\"Check non-e\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User not found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"{{$randomFullName}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseURL}}/user/update/1",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "update",
                "1"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Delete User",
      "item": [
        {
          "name": "Delete user by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"Check user deleted or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User deleted successfully\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/delete/{{userId}}",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "delete",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Already for deleted user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});\r",
                  "pm.test(\"Check already user deleted\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User not found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/delete/{{userId}}",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "delete",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search the deleted user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});\r",
                  "pm.test(\"Check deleted user is shown or not\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User not found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/search/id/{{userId}}",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "search",
                "id",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete user without authentication",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {\r",
                  "    pm.response.to.have.status(401);\r",
                  "});\r",
                  "pm.test(\"Without authentication user cannot delete a user\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"No Token Found!\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/delete/{{userId}}",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "delete",
                "{{userId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete user with non-existing ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});\r",
                  "pm.test(\"Check already user deleted\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"User not found\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "X-AUTH-SECRET-KEY",
                "value": "{{partnerKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseURL}}/user/delete/1",
              "host": [
                "{{baseURL}}"
              ],
              "path": [
                "user",
                "delete",
                "1"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseURL",
      "value": "https://dmoney.roadtocareer.net"
    },
    {
      "key": "token",
      "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZGVudGlmaWVyIjoiYWRtaW5AZG1vbmV5LmNvbSIsInJvbGUiOiJBZG1pbiIsImlhdCI6MTc3MDM3NTQwMiwiZXhwIjoxNzcwMzc5MDAyfQ.W_qE_9o-5B5i_aK4xgzlCNvG_a9Xmaz7_6lfiEJolbc"
    },
    {
      "key": "partnerKey",
      "value": "ROADTOSDET"
    },
    {
      "key": "id",
      "value": "28610"
    },
    {
      "key": "customerPhoneNumber",
      "value": "01838020844"
    },
    {
      "key": "userId",
      "value": 102518
    },
    {
      "key": "userEmail",
      "value": "Aisha28@gmail.com"
    },
    {
      "key": "userName",
      "value": "Darrin Schimmel"
    }
  ]
}